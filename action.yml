name: 'Verify Secrets'
description: 'This action will verify all secrets used in yaml files are defined in github.'
inputs:
  access-token:  # id of input
    description: 'Personal Access Token'
    required: true
    default: ''
runs:
  using: "composite"
  steps:
    - name: Run Secret Verification Script
      env:
        TOKEN: ${{ inputs.access-token }}
        OWNER: ${{ github.repository_owner }}
        REPO: ${{ github.repository }}
      shell: bash
      run: |
        touch token.txt
        echo $TOKEN > token.txt
        ./${{ github.action_path }}/check.sh